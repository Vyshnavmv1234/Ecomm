<%- include("../../views/partials/user/header") %>

<style>
  body {
    background: #f7f7f7;
  }

  .change-password-wrapper {
    min-height: calc(80vh - 80px);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .change-password-card {
    width: 520px;
    background: #fff;
    padding: 60px 40px;
    border-radius: 6px;
    border: 1px solid #e5e5e5;
    text-align: center;
  }

  .change-password-card h3 {
    font-size: 16px;
    font-weight: 500;
    margin-bottom: 24px;
    color: #333;
  }

  .change-password-card input {
    width: 260px;
    padding: 10px;
    margin-bottom: 14px;
    border: 1px solid #cfcfcf;
    border-radius: 4px;
    outline: none;
    font-size: 14px;
  }

  .change-password-card input:focus {
    border-color: #4db6be;
  }

  .change-password-card button {
    margin-top: 16px;
    background: #4db6be;
    border: none;
    padding: 10px 28px;
    color: #fff;
    font-size: 14px;
    border-radius: 6px;
    cursor: pointer;
  }

  .change-password-card button:hover {
    background: #3aa5ad;
  }
</style>

<main class="change-password-wrapper">
  <div class="change-password-card">

    <h3><b>Change Password</b></h3>

    <form onsubmit="return validateForm()" action="/user/reset-password" method="POST" >
      <input
        id="password"
        type="password"
        name="newPassword"
        placeholder="New Password"
        required
      />

      <br />
      <p id="pass1Error"></p>

      <input
        id="cPassword"
        type="password"
        name="confirmPassword"
        placeholder="Confirm Password"
        required
      />
      <p id="pass2Error"></p>
      <p style="color: red;"><%=message%></p>
      <br />

      <button type="submit">Change Password</button>
    </form>

  </div>
</main>

<script>

  function validateForm(){ 
    let valid = true
    const pass1 = document.getElementById("password")
    const pass2 = document.getElementById("cPassword")
    const pass1Error = document.getElementById("pass1Error")
    const pass2Error = document.getElementById("pass2Error")
 
    if(pass1.value.trim() == ""){

      pass1Error.textContent = "Password cannot be empty"
      valid = false
    }else if(pass1.value.length<6){ 

      pass1Error.textContent = "Password must be atleast 6 characters"
      valid= false
    }
    if(pass2.value.trim() == ""){
      pass2Error.textContent = "Password cannot be empty"
      valid= false
    }
    else if(pass2.value !== pass1.value){

      pass2Error.textContent = "Password doesnt match"
      valid = false
    }
    return valid

  }
</script>


</body>
</html>
