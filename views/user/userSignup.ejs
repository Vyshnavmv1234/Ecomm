
  <%-include("../../views/partials/user/header")%>


  <!-- SIGNUP CARD -->
  <main class="auth-container">
    <form id="signform" method="post" action="/user/signup" class="signup-card" id="signupForm" novalidate>

  <h2>Signup</h2>

  <!-- Full Name -->
  <div class="form-group">
    <label for="username">Full Name</label>
    <input
      type="text"
      id="username"
      name="name"
      class="form-control"
      placeholder="Enter Name"
      required
    >
    <div id="nameError" class="error-message"></div>
  </div>

  <!-- Email -->
  <div class="form-group">
    <label for="email">Email address</label>
    <input
      type="email"
      id="email"
      name="email"
      class="form-control"
      placeholder="Enter email"
      required
    >
    <div id="emailError" class="error-message"></div>
  </div>

  <!-- Phone -->
  <div class="form-group">
    <label for="phone">Phone Number</label>
    <input
      type="tel"
      id="phone"
      name="phone"
      class="form-control"
      placeholder="Enter phone"
    >
    <div id="phoneError" class="error-message"></div>
  </div>

  <!-- Password -->
  <div class="form-group">
    <label for="password">Password</label>
    <input
      type="password"
      id="password"
      name="password"
      class="form-control"
      placeholder="Password"
      required
      minlength="6"
    >
    <div id="passwordError" class="error-message"></div>
  </div>

  <!-- Confirm Password -->
  <div class="form-group">
    <label for="confirmPassword">Confirm Password</label>
    <input
      type="password"
      id="confirmPassword"
      name="cPassword"
      class="form-control"
      placeholder="Confirm Password"
      required
    >
    <div id="cpassError" class="error-message"></div>
  </div>

  <% if(message){%>
  <div class="error">
    <%=message%>
  </div>
  <%}%>


  <!-- Submit -->
  <button type="submit" class="signup-btn">Signup</button>
  <p class="login-text">
  Already have an account? <a href="/user/login">Login Now</a>
</p>

<div class="divider"></div>

<a href="/user/auth/google" class="google-btn">
  <img
    src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png"
    alt="Google"
  >
  Continue with Google
</a>


</form>
  </main>
   <%-include("../../views/partials/user/footer")%>

   <script>

    const nameid = document.getElementById("username")
    const emailid = document.getElementById("email")
    const phoneid = document.getElementById("phone")
    const passwordid = document.getElementById("password")
    const cpassid = document.getElementById("confirmPassword")

    const nameError = document.getElementById("nameError")
    const emailError = document.getElementById("emailError")
    const phoneError = document.getElementById("phoneError")
    const passwordError = document.getElementById("passwordError")
    const cpassError = document.getElementById("cpassError")
    const signform = document.getElementById("signform")

    function nameValidateCheck (e){

      const nameval = nameid.value
      const namepattern = /^[A-Za-z\s]+$/

      if(nameval.trim() === ""){
        nameError.style.display = "block"
        nameError.innerHTML = "Please enter a valid name"
      }else if(!namepattern.test(nameval)){
        nameError.style.display = "block"
        nameError.innerHTML = "Special characters is not allowed"
      }else{
        nameError.style.display = "none"
        nameError.innerHTML = ""
      }
    }

    function emailValidateCheck() {
  const emailval = emailid.value
  const emailpattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/

  if (emailval.trim() === "") {
    emailError.style.display = "block"
    emailError.innerHTML = "Please enter your email"
  } else if (!emailpattern.test(emailval)) {
    emailError.style.display = "block"
    emailError.innerHTML = "Please enter a valid email"
  } else {
    emailError.style.display = "none"
    emailError.innerHTML = ""
  }
}

function phoneValidateCheck() {
  const phoneval = phoneid.value
  const phonepattern = /^[6-9]\d{9}$/  

  if (phoneval.trim() === "") {
    phoneError.style.display = "block"
    phoneError.innerHTML = "Please enter phone number"
  } else if (!phonepattern.test(phoneval)) {
    phoneError.style.display = "block"
    phoneError.innerHTML = "Enter a valid 10 digit phone number"
  } else {
    phoneError.style.display = "none"
    phoneError.innerHTML = ""
  }
}

function passwordValidateCheck() {
  const passval = passwordid.value

  if (passval.trim() === "") {
    passwordError.style.display = "block"
    passwordError.innerHTML = "Please enter password"
  } else if (passval.length < 6) {
    passwordError.style.display = "block"
    passwordError.innerHTML = "Password must be at least 6 characters"
  } else {
    passwordError.style.display = "none"
    passwordError.innerHTML = ""
  }
}

function cPasswordValidateCheck() {
  const passval = passwordid.value
  const cpassval = cpassid.value

  if (cpassval.trim() === "") {
    cpassError.style.display = "block"
    cpassError.innerHTML = "Please confirm your password"
  } else if (passval !== cpassval) {
    cpassError.style.display = "block"
    cpassError.innerHTML = "Passwords do not match"
  } else {
    cpassError.style.display = "none"
    cpassError.innerHTML = ""
  }
}


    document.addEventListener("DOMContentLoaded",function(){
      signform.addEventListener("submit",function(e){

        nameValidateCheck()
        emailValidateCheck()
        phoneValidateCheck()
        passwordValidateCheck()
        cPasswordValidateCheck()

        if(!nameid || !emailid || !phoneid || !passwordid || !nameError ||! passwordError || !phoneError || !emailError || !cpassError || !signform){
          console.error("One or More elements not found")
        }
        if(nameError.innerHTML || emailError.innerHTML || phoneError.innerHTML || passwordError.innerHTML || cpassError.innerHTML){
          e.preventDefault()
        }
      })
    })


   </script>

  
